{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"../../core/services/notification.service\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/material/button\";\nimport * as i6 from \"@angular/material/input\";\nimport * as i7 from \"@angular/material/form-field\";\nimport * as i8 from \"@angular/material/card\";\nimport * as i9 from \"@angular/material/progress-spinner\";\nimport * as i10 from \"@angular/material/select\";\nimport * as i11 from \"@angular/material/core\";\nfunction PolicyNewComponent_mat_error_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \" License plate is required \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction PolicyNewComponent_mat_error_33_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \" Vehicle make is required \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction PolicyNewComponent_mat_error_39_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \" Vehicle model is required \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction PolicyNewComponent_mat_option_44_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-option\", 30);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const year_r1 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", year_r1);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(year_r1);\n  }\n}\nfunction PolicyNewComponent_mat_error_45_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \" Year is required \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction PolicyNewComponent_mat_error_58_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \" Coverage type is required \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction PolicyNewComponent_mat_error_71_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \" Coverage amount is required \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction PolicyNewComponent_div_72_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 31)(1, \"mat-card\", 32)(2, \"mat-card-content\")(3, \"h3\");\n    i0.ɵɵtext(4, \"Premium Calculation\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 33)(6, \"div\", 34)(7, \"span\");\n    i0.ɵɵtext(8, \"Base Premium:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"span\");\n    i0.ɵɵtext(10);\n    i0.ɵɵpipe(11, \"currency\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(12, \"div\", 34)(13, \"span\");\n    i0.ɵɵtext(14, \"Coverage Premium:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"span\");\n    i0.ɵɵtext(16);\n    i0.ɵɵpipe(17, \"currency\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(18, \"div\", 35)(19, \"span\")(20, \"strong\");\n    i0.ɵɵtext(21, \"Total Annual Premium:\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(22, \"span\")(23, \"strong\");\n    i0.ɵɵtext(24);\n    i0.ɵɵpipe(25, \"currency\");\n    i0.ɵɵelementEnd()()()()()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(10);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind3(11, 3, ctx_r1.basePremium, \"THB\", \"symbol-narrow\"));\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind3(17, 7, ctx_r1.coveragePremium, \"THB\", \"symbol-narrow\"));\n    i0.ɵɵadvance(8);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind3(25, 11, ctx_r1.estimatedPremium, \"THB\", \"symbol-narrow\"));\n  }\n}\nfunction PolicyNewComponent_mat_spinner_77_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"mat-spinner\", 36);\n  }\n}\nexport class PolicyNewComponent {\n  constructor(fb, router, notificationService) {\n    this.fb = fb;\n    this.router = router;\n    this.notificationService = notificationService;\n    this.isLoading = false;\n    this.years = [];\n    // Premium calculation properties\n    this.estimatedPremium = 0;\n    this.basePremium = 0;\n    this.coveragePremium = 0;\n    this.initializeForm();\n    this.generateYears();\n  }\n  initializeForm() {\n    this.policyForm = this.fb.group({\n      licensePlate: ['', [Validators.required]],\n      vehicleMake: ['', [Validators.required]],\n      vehicleModel: ['', [Validators.required]],\n      year: ['', [Validators.required]],\n      coverageType: ['', [Validators.required]],\n      coverageAmount: ['', [Validators.required]]\n    });\n    // Subscribe to form changes to calculate premium\n    this.policyForm.valueChanges.subscribe(() => {\n      this.calculatePremium();\n    });\n  }\n  generateYears() {\n    const currentYear = new Date().getFullYear();\n    for (let year = currentYear; year >= currentYear - 20; year--) {\n      this.years.push(year);\n    }\n  }\n  onCoverageTypeChange(coverageType) {\n    // Reset coverage amount when type changes\n    this.policyForm.patchValue({\n      coverageAmount: ''\n    });\n    this.calculatePremium();\n  }\n  calculatePremium() {\n    const formValue = this.policyForm.value;\n    if (!formValue.coverageType || !formValue.coverageAmount || !formValue.year) {\n      this.estimatedPremium = 0;\n      return;\n    }\n    // Base premium calculation\n    const currentYear = new Date().getFullYear();\n    const vehicleAge = currentYear - parseInt(formValue.year);\n    // Base premium varies by vehicle age\n    this.basePremium = vehicleAge <= 3 ? 8000 : vehicleAge <= 10 ? 12000 : 15000;\n    // Coverage premium based on type and amount\n    const coverageAmount = parseInt(formValue.coverageAmount);\n    if (formValue.coverageType === 'comprehensive') {\n      this.coveragePremium = coverageAmount * 0.015; // 1.5% of coverage\n    } else {\n      this.coveragePremium = coverageAmount * 0.008; // 0.8% of coverage\n    }\n    this.estimatedPremium = this.basePremium + this.coveragePremium;\n  }\n  onCreatePolicy() {\n    if (this.policyForm.invalid) {\n      this.markFormGroupTouched();\n      return;\n    }\n    this.isLoading = true;\n    const policyData = {\n      ...this.policyForm.value,\n      premium: this.estimatedPremium,\n      status: 'PENDING',\n      createdDate: new Date().toISOString()\n    };\n    // Simulate API call\n    setTimeout(() => {\n      console.log('Creating policy with data:', policyData);\n      this.isLoading = false;\n      this.notificationService.showSuccess(`Policy created successfully! Premium: ฿${this.estimatedPremium.toLocaleString()}`);\n      // Navigate back to policies list\n      this.router.navigate(['/policies']);\n    }, 1500);\n  }\n  markFormGroupTouched() {\n    Object.keys(this.policyForm.controls).forEach(key => {\n      const control = this.policyForm.get(key);\n      control?.markAsTouched();\n    });\n  }\n  static {\n    this.ɵfac = function PolicyNewComponent_Factory(t) {\n      return new (t || PolicyNewComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.NotificationService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: PolicyNewComponent,\n      selectors: [[\"app-policy-new\"]],\n      decls: 79,\n      vars: 12,\n      consts: [[1, \"policy-new-container\"], [\"novalidate\", \"\", 3, \"ngSubmit\", \"formGroup\"], [1, \"form-section\"], [1, \"form-row\"], [\"appearance\", \"outline\"], [\"matInput\", \"\", \"formControlName\", \"licensePlate\", \"placeholder\", \"e.g. \\u0E01\\u0E01-1234 \\u0E01\\u0E23\\u0E38\\u0E07\\u0E40\\u0E17\\u0E1E\\u0E21\\u0E2B\\u0E32\\u0E19\\u0E04\\u0E23\"], [4, \"ngIf\"], [\"formControlName\", \"vehicleMake\"], [\"value\", \"toyota\"], [\"value\", \"honda\"], [\"value\", \"nissan\"], [\"value\", \"mazda\"], [\"value\", \"isuzu\"], [\"value\", \"mitsubishi\"], [\"matInput\", \"\", \"formControlName\", \"vehicleModel\", \"placeholder\", \"e.g. Camry, Civic, Almera\"], [\"formControlName\", \"year\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"formControlName\", \"coverageType\", 3, \"selectionChange\"], [\"value\", \"third_party\"], [\"value\", \"comprehensive\"], [\"formControlName\", \"coverageAmount\"], [\"value\", \"1000000\"], [\"value\", \"2000000\"], [\"value\", \"3000000\"], [\"value\", \"5000000\"], [\"class\", \"premium-section\", 4, \"ngIf\"], [1, \"form-actions\"], [\"mat-stroked-button\", \"\", \"type\", \"button\", \"routerLink\", \"/policies\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", \"type\", \"submit\", 3, \"disabled\"], [\"diameter\", \"20\", 4, \"ngIf\"], [3, \"value\"], [1, \"premium-section\"], [1, \"premium-card\"], [1, \"premium-details\"], [1, \"premium-row\"], [1, \"premium-row\", \"total\"], [\"diameter\", \"20\"]],\n      template: function PolicyNewComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"h1\");\n          i0.ɵɵtext(2, \"New Insurance Policy\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(3, \"p\");\n          i0.ɵɵtext(4, \"Create a new insurance policy for your vehicle.\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(5, \"mat-card\")(6, \"mat-card-content\")(7, \"form\", 1);\n          i0.ɵɵlistener(\"ngSubmit\", function PolicyNewComponent_Template_form_ngSubmit_7_listener() {\n            return ctx.onCreatePolicy();\n          });\n          i0.ɵɵelementStart(8, \"div\", 2)(9, \"h2\");\n          i0.ɵɵtext(10, \"Vehicle Information\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(11, \"div\", 3)(12, \"mat-form-field\", 4)(13, \"mat-label\");\n          i0.ɵɵtext(14, \"License Plate\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(15, \"input\", 5);\n          i0.ɵɵtemplate(16, PolicyNewComponent_mat_error_16_Template, 2, 0, \"mat-error\", 6);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(17, \"mat-form-field\", 4)(18, \"mat-label\");\n          i0.ɵɵtext(19, \"Vehicle Make\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(20, \"mat-select\", 7)(21, \"mat-option\", 8);\n          i0.ɵɵtext(22, \"Toyota\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(23, \"mat-option\", 9);\n          i0.ɵɵtext(24, \"Honda\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(25, \"mat-option\", 10);\n          i0.ɵɵtext(26, \"Nissan\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(27, \"mat-option\", 11);\n          i0.ɵɵtext(28, \"Mazda\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(29, \"mat-option\", 12);\n          i0.ɵɵtext(30, \"Isuzu\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(31, \"mat-option\", 13);\n          i0.ɵɵtext(32, \"Mitsubishi\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵtemplate(33, PolicyNewComponent_mat_error_33_Template, 2, 0, \"mat-error\", 6);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(34, \"div\", 3)(35, \"mat-form-field\", 4)(36, \"mat-label\");\n          i0.ɵɵtext(37, \"Vehicle Model\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(38, \"input\", 14);\n          i0.ɵɵtemplate(39, PolicyNewComponent_mat_error_39_Template, 2, 0, \"mat-error\", 6);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(40, \"mat-form-field\", 4)(41, \"mat-label\");\n          i0.ɵɵtext(42, \"Year\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(43, \"mat-select\", 15);\n          i0.ɵɵtemplate(44, PolicyNewComponent_mat_option_44_Template, 2, 2, \"mat-option\", 16);\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(45, PolicyNewComponent_mat_error_45_Template, 2, 0, \"mat-error\", 6);\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(46, \"div\", 2)(47, \"h2\");\n          i0.ɵɵtext(48, \"Coverage Options\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(49, \"div\", 3)(50, \"mat-form-field\", 4)(51, \"mat-label\");\n          i0.ɵɵtext(52, \"Coverage Type\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(53, \"mat-select\", 17);\n          i0.ɵɵlistener(\"selectionChange\", function PolicyNewComponent_Template_mat_select_selectionChange_53_listener($event) {\n            return ctx.onCoverageTypeChange($event.value);\n          });\n          i0.ɵɵelementStart(54, \"mat-option\", 18);\n          i0.ɵɵtext(55, \"Third Party Only\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(56, \"mat-option\", 19);\n          i0.ɵɵtext(57, \"Comprehensive\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵtemplate(58, PolicyNewComponent_mat_error_58_Template, 2, 0, \"mat-error\", 6);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(59, \"mat-form-field\", 4)(60, \"mat-label\");\n          i0.ɵɵtext(61, \"Coverage Amount (THB)\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(62, \"mat-select\", 20)(63, \"mat-option\", 21);\n          i0.ɵɵtext(64, \"1,000,000\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(65, \"mat-option\", 22);\n          i0.ɵɵtext(66, \"2,000,000\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(67, \"mat-option\", 23);\n          i0.ɵɵtext(68, \"3,000,000\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(69, \"mat-option\", 24);\n          i0.ɵɵtext(70, \"5,000,000\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵtemplate(71, PolicyNewComponent_mat_error_71_Template, 2, 0, \"mat-error\", 6);\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵtemplate(72, PolicyNewComponent_div_72_Template, 26, 15, \"div\", 25);\n          i0.ɵɵelementStart(73, \"div\", 26)(74, \"button\", 27);\n          i0.ɵɵtext(75, \" Back to Policies \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(76, \"button\", 28);\n          i0.ɵɵtemplate(77, PolicyNewComponent_mat_spinner_77_Template, 1, 0, \"mat-spinner\", 29);\n          i0.ɵɵtext(78);\n          i0.ɵɵelementEnd()()()()()();\n        }\n        if (rf & 2) {\n          let tmp_1_0;\n          let tmp_2_0;\n          let tmp_3_0;\n          let tmp_5_0;\n          let tmp_6_0;\n          let tmp_7_0;\n          i0.ɵɵadvance(7);\n          i0.ɵɵproperty(\"formGroup\", ctx.policyForm);\n          i0.ɵɵadvance(9);\n          i0.ɵɵproperty(\"ngIf\", (tmp_1_0 = ctx.policyForm.get(\"licensePlate\")) == null ? null : tmp_1_0.errors == null ? null : tmp_1_0.errors[\"required\"]);\n          i0.ɵɵadvance(17);\n          i0.ɵɵproperty(\"ngIf\", (tmp_2_0 = ctx.policyForm.get(\"vehicleMake\")) == null ? null : tmp_2_0.errors == null ? null : tmp_2_0.errors[\"required\"]);\n          i0.ɵɵadvance(6);\n          i0.ɵɵproperty(\"ngIf\", (tmp_3_0 = ctx.policyForm.get(\"vehicleModel\")) == null ? null : tmp_3_0.errors == null ? null : tmp_3_0.errors[\"required\"]);\n          i0.ɵɵadvance(5);\n          i0.ɵɵproperty(\"ngForOf\", ctx.years);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", (tmp_5_0 = ctx.policyForm.get(\"year\")) == null ? null : tmp_5_0.errors == null ? null : tmp_5_0.errors[\"required\"]);\n          i0.ɵɵadvance(13);\n          i0.ɵɵproperty(\"ngIf\", (tmp_6_0 = ctx.policyForm.get(\"coverageType\")) == null ? null : tmp_6_0.errors == null ? null : tmp_6_0.errors[\"required\"]);\n          i0.ɵɵadvance(13);\n          i0.ɵɵproperty(\"ngIf\", (tmp_7_0 = ctx.policyForm.get(\"coverageAmount\")) == null ? null : tmp_7_0.errors == null ? null : tmp_7_0.errors[\"required\"]);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.estimatedPremium);\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"disabled\", ctx.policyForm.invalid || ctx.isLoading);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.isLoading);\n          i0.ɵɵadvance();\n          i0.ɵɵtextInterpolate1(\" \", ctx.isLoading ? \"Creating...\" : \"Create Policy\", \" \");\n        }\n      },\n      dependencies: [i4.NgForOf, i4.NgIf, i1.ɵNgNoValidate, i1.DefaultValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.FormControlName, i2.RouterLink, i5.MatButton, i6.MatInput, i7.MatFormField, i7.MatLabel, i7.MatError, i8.MatCard, i8.MatCardContent, i9.MatProgressSpinner, i10.MatSelect, i11.MatOption, i4.CurrencyPipe],\n      styles: [\".policy-new-container[_ngcontent-%COMP%] {\\n  padding: 24px;\\n  max-width: 800px;\\n  margin: 0 auto;\\n}\\n\\n.form-section[_ngcontent-%COMP%] {\\n  margin-bottom: 32px;\\n}\\n\\n.form-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%] {\\n  margin-bottom: 16px;\\n  color: #333;\\n  font-size: 1.5rem;\\n  font-weight: 500;\\n}\\n\\n.form-row[_ngcontent-%COMP%] {\\n  display: grid;\\n  grid-template-columns: 1fr 1fr;\\n  gap: 16px;\\n  margin-bottom: 16px;\\n}\\n\\n.premium-section[_ngcontent-%COMP%] {\\n  margin: 32px 0;\\n}\\n\\n.premium-card[_ngcontent-%COMP%] {\\n  background: #f8f9fa;\\n  border: 1px solid #e9ecef;\\n}\\n\\n.premium-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%] {\\n  margin-bottom: 16px;\\n  color: #495057;\\n  font-size: 1.25rem;\\n}\\n\\n.premium-details[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: column;\\n  gap: 8px;\\n}\\n\\n.premium-row[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n  padding: 8px 0;\\n}\\n\\n.premium-row.total[_ngcontent-%COMP%] {\\n  border-top: 1px solid #dee2e6;\\n  margin-top: 8px;\\n  padding-top: 16px;\\n  font-size: 1.1rem;\\n}\\n\\n.form-actions[_ngcontent-%COMP%] {\\n  display: flex;\\n  gap: 16px;\\n  justify-content: flex-end;\\n  margin-top: 24px;\\n}\\n\\nmat-spinner[_ngcontent-%COMP%] {\\n  margin-right: 8px;\\n}\\n\\n@media (max-width: 768px) {\\n  .form-row[_ngcontent-%COMP%] {\\n    grid-template-columns: 1fr;\\n  }\\n  .form-actions[_ngcontent-%COMP%] {\\n    flex-direction: column;\\n  }\\n  .premium-row[_ngcontent-%COMP%] {\\n    font-size: 0.9rem;\\n  }\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvZmVhdHVyZXMvcG9saWN5L3BvbGljeS1uZXcuY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNJO0VBQ0UsYUFBQTtFQUNBLGdCQUFBO0VBQ0EsY0FBQTtBQUFOOztBQUdJO0VBQ0UsbUJBQUE7QUFBTjs7QUFHSTtFQUNFLG1CQUFBO0VBQ0EsV0FBQTtFQUNBLGlCQUFBO0VBQ0EsZ0JBQUE7QUFBTjs7QUFHSTtFQUNFLGFBQUE7RUFDQSw4QkFBQTtFQUNBLFNBQUE7RUFDQSxtQkFBQTtBQUFOOztBQUdJO0VBQ0UsY0FBQTtBQUFOOztBQUdJO0VBQ0UsbUJBQUE7RUFDQSx5QkFBQTtBQUFOOztBQUdJO0VBQ0UsbUJBQUE7RUFDQSxjQUFBO0VBQ0Esa0JBQUE7QUFBTjs7QUFHSTtFQUNFLGFBQUE7RUFDQSxzQkFBQTtFQUNBLFFBQUE7QUFBTjs7QUFHSTtFQUNFLGFBQUE7RUFDQSw4QkFBQTtFQUNBLG1CQUFBO0VBQ0EsY0FBQTtBQUFOOztBQUdJO0VBQ0UsNkJBQUE7RUFDQSxlQUFBO0VBQ0EsaUJBQUE7RUFDQSxpQkFBQTtBQUFOOztBQUdJO0VBQ0UsYUFBQTtFQUNBLFNBQUE7RUFDQSx5QkFBQTtFQUNBLGdCQUFBO0FBQU47O0FBR0k7RUFDRSxpQkFBQTtBQUFOOztBQUdJO0VBQ0U7SUFDRSwwQkFBQTtFQUFOO0VBR0k7SUFDRSxzQkFBQTtFQUROO0VBSUk7SUFDRSxpQkFBQTtFQUZOO0FBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyJcbiAgICAucG9saWN5LW5ldy1jb250YWluZXIge1xuICAgICAgcGFkZGluZzogMjRweDtcbiAgICAgIG1heC13aWR0aDogODAwcHg7XG4gICAgICBtYXJnaW46IDAgYXV0bztcbiAgICB9XG4gICAgXG4gICAgLmZvcm0tc2VjdGlvbiB7XG4gICAgICBtYXJnaW4tYm90dG9tOiAzMnB4O1xuICAgIH1cbiAgICBcbiAgICAuZm9ybS1zZWN0aW9uIGgyIHtcbiAgICAgIG1hcmdpbi1ib3R0b206IDE2cHg7XG4gICAgICBjb2xvcjogIzMzMztcbiAgICAgIGZvbnQtc2l6ZTogMS41cmVtO1xuICAgICAgZm9udC13ZWlnaHQ6IDUwMDtcbiAgICB9XG4gICAgXG4gICAgLmZvcm0tcm93IHtcbiAgICAgIGRpc3BsYXk6IGdyaWQ7XG4gICAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDFmciAxZnI7XG4gICAgICBnYXA6IDE2cHg7XG4gICAgICBtYXJnaW4tYm90dG9tOiAxNnB4O1xuICAgIH1cbiAgICBcbiAgICAucHJlbWl1bS1zZWN0aW9uIHtcbiAgICAgIG1hcmdpbjogMzJweCAwO1xuICAgIH1cbiAgICBcbiAgICAucHJlbWl1bS1jYXJkIHtcbiAgICAgIGJhY2tncm91bmQ6ICNmOGY5ZmE7XG4gICAgICBib3JkZXI6IDFweCBzb2xpZCAjZTllY2VmO1xuICAgIH1cbiAgICBcbiAgICAucHJlbWl1bS1jYXJkIGgzIHtcbiAgICAgIG1hcmdpbi1ib3R0b206IDE2cHg7XG4gICAgICBjb2xvcjogIzQ5NTA1NztcbiAgICAgIGZvbnQtc2l6ZTogMS4yNXJlbTtcbiAgICB9XG4gICAgXG4gICAgLnByZW1pdW0tZGV0YWlscyB7XG4gICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgIGdhcDogOHB4O1xuICAgIH1cbiAgICBcbiAgICAucHJlbWl1bS1yb3cge1xuICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICBwYWRkaW5nOiA4cHggMDtcbiAgICB9XG4gICAgXG4gICAgLnByZW1pdW0tcm93LnRvdGFsIHtcbiAgICAgIGJvcmRlci10b3A6IDFweCBzb2xpZCAjZGVlMmU2O1xuICAgICAgbWFyZ2luLXRvcDogOHB4O1xuICAgICAgcGFkZGluZy10b3A6IDE2cHg7XG4gICAgICBmb250LXNpemU6IDEuMXJlbTtcbiAgICB9XG4gICAgXG4gICAgLmZvcm0tYWN0aW9ucyB7XG4gICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgZ2FwOiAxNnB4O1xuICAgICAganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDtcbiAgICAgIG1hcmdpbi10b3A6IDI0cHg7XG4gICAgfVxuICAgIFxuICAgIG1hdC1zcGlubmVyIHtcbiAgICAgIG1hcmdpbi1yaWdodDogOHB4O1xuICAgIH1cbiAgICBcbiAgICBAbWVkaWEgKG1heC13aWR0aDogNzY4cHgpIHtcbiAgICAgIC5mb3JtLXJvdyB7XG4gICAgICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogMWZyO1xuICAgICAgfVxuICAgICAgXG4gICAgICAuZm9ybS1hY3Rpb25zIHtcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLnByZW1pdW0tcm93IHtcbiAgICAgICAgZm9udC1zaXplOiAwLjlyZW07XG4gICAgICB9XG4gICAgfVxuICAiXSwic291cmNlUm9vdCI6IiJ9 */\"]\n    });\n  }\n}","map":{"version":3,"names":["Validators","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵproperty","year_r1","ɵɵadvance","ɵɵtextInterpolate","ɵɵpipeBind3","ctx_r1","basePremium","coveragePremium","estimatedPremium","ɵɵelement","PolicyNewComponent","constructor","fb","router","notificationService","isLoading","years","initializeForm","generateYears","policyForm","group","licensePlate","required","vehicleMake","vehicleModel","year","coverageType","coverageAmount","valueChanges","subscribe","calculatePremium","currentYear","Date","getFullYear","push","onCoverageTypeChange","patchValue","formValue","value","vehicleAge","parseInt","onCreatePolicy","invalid","markFormGroupTouched","policyData","premium","status","createdDate","toISOString","setTimeout","console","log","showSuccess","toLocaleString","navigate","Object","keys","controls","forEach","key","control","get","markAsTouched","ɵɵdirectiveInject","i1","FormBuilder","i2","Router","i3","NotificationService","selectors","decls","vars","consts","template","PolicyNewComponent_Template","rf","ctx","ɵɵlistener","PolicyNewComponent_Template_form_ngSubmit_7_listener","ɵɵtemplate","PolicyNewComponent_mat_error_16_Template","PolicyNewComponent_mat_error_33_Template","PolicyNewComponent_mat_error_39_Template","PolicyNewComponent_mat_option_44_Template","PolicyNewComponent_mat_error_45_Template","PolicyNewComponent_Template_mat_select_selectionChange_53_listener","$event","PolicyNewComponent_mat_error_58_Template","PolicyNewComponent_mat_error_71_Template","PolicyNewComponent_div_72_Template","PolicyNewComponent_mat_spinner_77_Template","tmp_1_0","errors","tmp_2_0","tmp_3_0","tmp_5_0","tmp_6_0","tmp_7_0","ɵɵtextInterpolate1"],"sources":["/Users/mvvkiran/Workspace/Angular/auto-insurance-app/frontend/src/app/features/policy/policy-new.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { NotificationService } from '../../core/services/notification.service';\nimport { PolicyService } from './policy.service';\n\n@Component({\n  selector: 'app-policy-new',\n  template: `\n    <div class=\"policy-new-container\">\n      <h1>New Insurance Policy</h1>\n      <p>Create a new insurance policy for your vehicle.</p>\n      \n      <mat-card>\n        <mat-card-content>\n          <form [formGroup]=\"policyForm\" (ngSubmit)=\"onCreatePolicy()\" novalidate>\n            \n            <div class=\"form-section\">\n              <h2>Vehicle Information</h2>\n              <div class=\"form-row\">\n                <mat-form-field appearance=\"outline\">\n                  <mat-label>License Plate</mat-label>\n                  <input matInput \n                         formControlName=\"licensePlate\"\n                         placeholder=\"e.g. กก-1234 กรุงเทพมหานคร\">\n                  <mat-error *ngIf=\"policyForm.get('licensePlate')?.errors?.['required']\">\n                    License plate is required\n                  </mat-error>\n                </mat-form-field>\n                \n                <mat-form-field appearance=\"outline\">\n                  <mat-label>Vehicle Make</mat-label>\n                  <mat-select formControlName=\"vehicleMake\">\n                    <mat-option value=\"toyota\">Toyota</mat-option>\n                    <mat-option value=\"honda\">Honda</mat-option>\n                    <mat-option value=\"nissan\">Nissan</mat-option>\n                    <mat-option value=\"mazda\">Mazda</mat-option>\n                    <mat-option value=\"isuzu\">Isuzu</mat-option>\n                    <mat-option value=\"mitsubishi\">Mitsubishi</mat-option>\n                  </mat-select>\n                  <mat-error *ngIf=\"policyForm.get('vehicleMake')?.errors?.['required']\">\n                    Vehicle make is required\n                  </mat-error>\n                </mat-form-field>\n              </div>\n\n              <div class=\"form-row\">\n                <mat-form-field appearance=\"outline\">\n                  <mat-label>Vehicle Model</mat-label>\n                  <input matInput \n                         formControlName=\"vehicleModel\"\n                         placeholder=\"e.g. Camry, Civic, Almera\">\n                  <mat-error *ngIf=\"policyForm.get('vehicleModel')?.errors?.['required']\">\n                    Vehicle model is required\n                  </mat-error>\n                </mat-form-field>\n                \n                <mat-form-field appearance=\"outline\">\n                  <mat-label>Year</mat-label>\n                  <mat-select formControlName=\"year\">\n                    <mat-option *ngFor=\"let year of years\" [value]=\"year\">{{year}}</mat-option>\n                  </mat-select>\n                  <mat-error *ngIf=\"policyForm.get('year')?.errors?.['required']\">\n                    Year is required\n                  </mat-error>\n                </mat-form-field>\n              </div>\n            </div>\n\n            <div class=\"form-section\">\n              <h2>Coverage Options</h2>\n              <div class=\"form-row\">\n                <mat-form-field appearance=\"outline\">\n                  <mat-label>Coverage Type</mat-label>\n                  <mat-select formControlName=\"coverageType\" (selectionChange)=\"onCoverageTypeChange($event.value)\">\n                    <mat-option value=\"third_party\">Third Party Only</mat-option>\n                    <mat-option value=\"comprehensive\">Comprehensive</mat-option>\n                  </mat-select>\n                  <mat-error *ngIf=\"policyForm.get('coverageType')?.errors?.['required']\">\n                    Coverage type is required\n                  </mat-error>\n                </mat-form-field>\n                \n                <mat-form-field appearance=\"outline\">\n                  <mat-label>Coverage Amount (THB)</mat-label>\n                  <mat-select formControlName=\"coverageAmount\">\n                    <mat-option value=\"1000000\">1,000,000</mat-option>\n                    <mat-option value=\"2000000\">2,000,000</mat-option>\n                    <mat-option value=\"3000000\">3,000,000</mat-option>\n                    <mat-option value=\"5000000\">5,000,000</mat-option>\n                  </mat-select>\n                  <mat-error *ngIf=\"policyForm.get('coverageAmount')?.errors?.['required']\">\n                    Coverage amount is required\n                  </mat-error>\n                </mat-form-field>\n              </div>\n            </div>\n\n            <div class=\"premium-section\" *ngIf=\"estimatedPremium\">\n              <mat-card class=\"premium-card\">\n                <mat-card-content>\n                  <h3>Premium Calculation</h3>\n                  <div class=\"premium-details\">\n                    <div class=\"premium-row\">\n                      <span>Base Premium:</span>\n                      <span>{{ basePremium | currency:'THB':'symbol-narrow' }}</span>\n                    </div>\n                    <div class=\"premium-row\">\n                      <span>Coverage Premium:</span>\n                      <span>{{ coveragePremium | currency:'THB':'symbol-narrow' }}</span>\n                    </div>\n                    <div class=\"premium-row total\">\n                      <span><strong>Total Annual Premium:</strong></span>\n                      <span><strong>{{ estimatedPremium | currency:'THB':'symbol-narrow' }}</strong></span>\n                    </div>\n                  </div>\n                </mat-card-content>\n              </mat-card>\n            </div>\n            \n            <div class=\"form-actions\">\n              <button mat-stroked-button type=\"button\" routerLink=\"/policies\">\n                Back to Policies\n              </button>\n              <button mat-raised-button \n                      color=\"primary\" \n                      type=\"submit\"\n                      [disabled]=\"policyForm.invalid || isLoading\">\n                <mat-spinner diameter=\"20\" *ngIf=\"isLoading\"></mat-spinner>\n                {{ isLoading ? 'Creating...' : 'Create Policy' }}\n              </button>\n            </div>\n\n          </form>\n        </mat-card-content>\n      </mat-card>\n    </div>\n  `,\n  styles: [`\n    .policy-new-container {\n      padding: 24px;\n      max-width: 800px;\n      margin: 0 auto;\n    }\n    \n    .form-section {\n      margin-bottom: 32px;\n    }\n    \n    .form-section h2 {\n      margin-bottom: 16px;\n      color: #333;\n      font-size: 1.5rem;\n      font-weight: 500;\n    }\n    \n    .form-row {\n      display: grid;\n      grid-template-columns: 1fr 1fr;\n      gap: 16px;\n      margin-bottom: 16px;\n    }\n    \n    .premium-section {\n      margin: 32px 0;\n    }\n    \n    .premium-card {\n      background: #f8f9fa;\n      border: 1px solid #e9ecef;\n    }\n    \n    .premium-card h3 {\n      margin-bottom: 16px;\n      color: #495057;\n      font-size: 1.25rem;\n    }\n    \n    .premium-details {\n      display: flex;\n      flex-direction: column;\n      gap: 8px;\n    }\n    \n    .premium-row {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      padding: 8px 0;\n    }\n    \n    .premium-row.total {\n      border-top: 1px solid #dee2e6;\n      margin-top: 8px;\n      padding-top: 16px;\n      font-size: 1.1rem;\n    }\n    \n    .form-actions {\n      display: flex;\n      gap: 16px;\n      justify-content: flex-end;\n      margin-top: 24px;\n    }\n    \n    mat-spinner {\n      margin-right: 8px;\n    }\n    \n    @media (max-width: 768px) {\n      .form-row {\n        grid-template-columns: 1fr;\n      }\n      \n      .form-actions {\n        flex-direction: column;\n      }\n      \n      .premium-row {\n        font-size: 0.9rem;\n      }\n    }\n  `]\n})\nexport class PolicyNewComponent {\n  policyForm!: FormGroup;\n  isLoading = false;\n  years: number[] = [];\n  \n  // Premium calculation properties\n  estimatedPremium = 0;\n  basePremium = 0;\n  coveragePremium = 0;\n\n  constructor(\n    private fb: FormBuilder,\n    private router: Router,\n    private notificationService: NotificationService\n  ) {\n    this.initializeForm();\n    this.generateYears();\n  }\n\n  private initializeForm(): void {\n    this.policyForm = this.fb.group({\n      licensePlate: ['', [Validators.required]],\n      vehicleMake: ['', [Validators.required]],\n      vehicleModel: ['', [Validators.required]],\n      year: ['', [Validators.required]],\n      coverageType: ['', [Validators.required]],\n      coverageAmount: ['', [Validators.required]]\n    });\n\n    // Subscribe to form changes to calculate premium\n    this.policyForm.valueChanges.subscribe(() => {\n      this.calculatePremium();\n    });\n  }\n\n  private generateYears(): void {\n    const currentYear = new Date().getFullYear();\n    for (let year = currentYear; year >= currentYear - 20; year--) {\n      this.years.push(year);\n    }\n  }\n\n  onCoverageTypeChange(coverageType: string): void {\n    // Reset coverage amount when type changes\n    this.policyForm.patchValue({ coverageAmount: '' });\n    this.calculatePremium();\n  }\n\n  private calculatePremium(): void {\n    const formValue = this.policyForm.value;\n    \n    if (!formValue.coverageType || !formValue.coverageAmount || !formValue.year) {\n      this.estimatedPremium = 0;\n      return;\n    }\n\n    // Base premium calculation\n    const currentYear = new Date().getFullYear();\n    const vehicleAge = currentYear - parseInt(formValue.year);\n    \n    // Base premium varies by vehicle age\n    this.basePremium = vehicleAge <= 3 ? 8000 : vehicleAge <= 10 ? 12000 : 15000;\n    \n    // Coverage premium based on type and amount\n    const coverageAmount = parseInt(formValue.coverageAmount);\n    if (formValue.coverageType === 'comprehensive') {\n      this.coveragePremium = coverageAmount * 0.015; // 1.5% of coverage\n    } else {\n      this.coveragePremium = coverageAmount * 0.008; // 0.8% of coverage\n    }\n    \n    this.estimatedPremium = this.basePremium + this.coveragePremium;\n  }\n\n  onCreatePolicy(): void {\n    if (this.policyForm.invalid) {\n      this.markFormGroupTouched();\n      return;\n    }\n\n    this.isLoading = true;\n    \n    const policyData = {\n      ...this.policyForm.value,\n      premium: this.estimatedPremium,\n      status: 'PENDING',\n      createdDate: new Date().toISOString()\n    };\n\n    // Simulate API call\n    setTimeout(() => {\n      console.log('Creating policy with data:', policyData);\n      \n      this.isLoading = false;\n      this.notificationService.showSuccess(\n        `Policy created successfully! Premium: ฿${this.estimatedPremium.toLocaleString()}`\n      );\n      \n      // Navigate back to policies list\n      this.router.navigate(['/policies']);\n    }, 1500);\n  }\n\n  private markFormGroupTouched(): void {\n    Object.keys(this.policyForm.controls).forEach(key => {\n      const control = this.policyForm.get(key);\n      control?.markAsTouched();\n    });\n  }\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}